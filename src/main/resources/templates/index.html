<html xmlns:th="http://thymeleaf.org">
<head>
    <title>NASA Mars Rover API</title>
    <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" rel="stylesheet"/>
</head>
<body>
<div class="container">
    <h1>Mars Rover Webservice ðŸš€</h1>

    <p>Hey there! ðŸ‘‹</p>
    <p>This page uses the <a href='https://api.nasa.gov/'>NASA Mars Rover API</a>.</p>

    <form action="" id="rover-form" method="get" th:object="${formData}">
        <input id="rover" th:field="*{rover}" type="hidden"/>
        <div class="row gx-5">
            <!-- ROVER -->
            <div class="form-group col-lg-4">
                <label class="form-label" for="button-group">Choose your Rover:</label>
                <div class="btn-group btn-group-lg" id="button-group" role="group" style="margin-bottom: 2em">
                    <button id="curiosity-btn"
                            name="rover-button"
                            th:class="'btn btn-'+*{rover=='curiosity' ? 'secondary' : 'primary'}"
                            type="button"
                            value="curiosity">Curiosity
                    </button>

                    <button name="rover-button"
                            th:class="'btn btn-'+*{rover=='opportunity' ? 'secondary' : 'primary'}"
                            type="button"
                            value="opportunity">Opportunity
                    </button>

                    <button name="rover-button"
                            th:class="'btn btn-'+*{rover=='spirit' ? 'secondary' : 'primary'}"
                            type="button"
                            value="spirit">Spirit
                    </button>
                </div>
            </div>

            <div class="form-check form-switch" th:each="camera : *{availableCameras}">
                <input name="availableCameras" th:value="${camera.name}" type="hidden"/>
                <input class="form-check-input"
                       th:field="*{selectedCameras}"
                       th:value="${camera.name}" type="checkbox">
                <label class="form-check-label">
                    <span th:text="${camera.fullName}"></span>
                </label>
            </div>

            <!--CAMERAS
            <div name="cameras">
                <div class="row">
                    <div class="col-12 col-md-4">
                        <div class="form-check form-switch">
                            <input class="form-check-input" id="fhaz" th:field="${formData.fhaz}" type="checkbox">
                            <label class="form-check-label" for="fhaz">Front Hazard Avoidance Camera (FHAZ)</label>
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <div class="form-check form-switch">
                            <input class="form-check-input" id="rhaz" th:field="${formData.rhaz}" type="checkbox">
                            <label class="form-check-label" for="rhaz">Rear Hazard Avoidance Camera (RHAZ)</label>
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <div class="form-check form-switch">
                            <input class="form-check-input" id="mast" th:field="${formData.mast}" type="checkbox">
                            <label class="form-check-label" for="mast">Mast Camera (MAST)</label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-md-4">
                        <div class="form-check form-switch">
                            <input class="form-check-input" id="chemcam" th:field="${formData.chemcam}" type="checkbox">
                            <label class="form-check-label" for="chemcam">Chemistry and Camera Complex (CHEMCAM)</label>
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <div class="form-check form-switch">
                            <input class="form-check-input" id="mahli" th:field="${formData.mahli}" type="checkbox">
                            <label class="form-check-label" for="mahli">Mars Hand Lens Imager (MAHLI)</label>
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <div class="form-check form-switch">
                            <input class="form-check-input" id="mardi" th:field="${formData.mardi}" type="checkbox">
                            <label class="form-check-label" for="mardi">Mars Descent Imager (MARDI)</label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-md-4">
                        <div class="form-check form-switch">
                            <input class="form-check-input" id="navcam" th:field="${formData.navcam}" type="checkbox">
                            <label class="form-check-label" for="navcam">Navigation Camera (NAVCAM)</label>
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <div class="form-check form-switch">
                            <input class="form-check-input" id="pancam" th:field="${formData.pancam}" type="checkbox">
                            <label class="form-check-label" for="pancam">Panoramic Camera (PANCAM)</label>
                        </div>
                    </div>
                    <div class="col-12 col-md-4">
                        <div class="form-check form-switch">
                            <input class="form-check-input" id="minites" th:field="${formData.minites}" type="checkbox">
                            <label class="form-check-label" for="minites">Miniature Thermal Emission Spectrometer (MINITES)</label>
                        </div>
                    </div>
                </div>
            </div>
-->

            <!-- SOL DAY-->
            <div class="class= col-lg-3 form-group form-group">
                <label class="form-label" for="sol">Sol (a.k.a. Mars "Day")</label>
                <input class="form-control" id="sol" max="100" min="1" th:field="*{sol}"
                       type="number">
            </div>
        </div>

        <div class="row" style="margin-top:2em">
            <button class="btn btn-primary btn-lg">Request Images ðŸŽž</button>
        </div>
        <!--<p>Found <span th:text="${roverData.photos.size()} images..."></span></p>-->
    </form>

    <!-- IMAGES -->
    <div class="row"
         style="margin-bottom:1.5em"
         th:each="rowIndex : ${#numbers.sequence(0, roverData.photos.size()-1, 3)}">
        <div class="col-sm"
             th:each="colIndex : ${#numbers.sequence(0, 3)}"
             th:if="${ rowIndex + colIndex < roverData.photos.size()}">
            <img class="img-fluid" th:src="${roverData.photos[(rowIndex + colIndex)].imgSrc}"/>
        </div>
    </div>
</div>

<script src="/js/index.js" type="text/javascript"></script>

</body>
</html>

